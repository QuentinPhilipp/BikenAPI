{% extends "layout.html" %}

{% block content %}


<div id="mapid"></div>


<!-- <div class="warning-box">
  {% for message in get_flashed_messages() %}
    <script type="text/javascript">
        alert("Flash")
    </script>
    <div class="alert alert-warning">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      {{ message }}
    </div>
  {% endfor %}
</div> -->


<div id="info-bottom" class="row text-center" hidden>
  <div id="itinerary-distance" class="col-sm-6 col-md-3">
    Distance
  </div>
  <div id="itinerary-time" class="col-sm-6 col-md-3">
  </div>
  <div id="itinerary-calculation-time" class="col-sm-6 col-md-3">
    Itineraire calcul√© en x secondes
  </div>
  <div class="col-1">
    <button type="button" name="button" class="btn btn-primary" onclick="closeInfo()">X</button>
  </div>
</div>
<script src="../static/js/map.js" charset="utf-8"></script>


<script>

  if ({{itinerary}}!=undefined)
  {
    console.log({{itinerary}});
    itineraryData = {{itinerary|tojson}};

    if(itineraryData!=undefined) {
      console.log(itineraryData);
      displayRoute(itineraryData);

      startPoint = {lat : itineraryData[0][0],lon : itineraryData[0][1]}
      finishPoint = {lat : itineraryData[itineraryData.length -1][0],lon : itineraryData[itineraryData.length - 1][1]}

      pointList = [startPoint,finishPoint];

      displayStartFinish(pointList);
    }
  }
</script>


{% endblock %}
